{"version":3,"sources":["../../src/ui/editComponents.ts"],"sourcesContent":["import {\n    ActionRowBuilder,\n    ButtonBuilder,\n    ButtonComponent,\n    Message,\n    MessageActionRowComponentBuilder,\n    StringSelectMenuBuilder,\n    StringSelectMenuComponent\n} from \"discord.js\";\n\n/**\n * convenience method that unwraps message components for editing discord message buttons/selectmenus\n * @param message the message to reference from\n * @param modifier function that will be called on every component\n * @example //Disables all components in the message\n *  const disabledComponents = editComponents(message, async (builder) => {\n *               return builder.setDisabled(true);\n *  });\n */\nexport async function editComponents(message: Message, modifier: (builder: ButtonBuilder | StringSelectMenuBuilder) => Promise<MessageActionRowComponentBuilder>) {\n    const ans = [];\n    for (const row of message.components) {\n        const toAdd = new ActionRowBuilder<MessageActionRowComponentBuilder>();\n        for (const component of row.components) {\n            if (component instanceof ButtonComponent) {\n                toAdd.addComponents(await modifier(ButtonBuilder.from(component)));\n            } else if (component instanceof StringSelectMenuComponent) {\n                toAdd.addComponents(await modifier(StringSelectMenuBuilder.from(component)));\n            }\n        }\n        if (toAdd.components.length > 0) {\n            ans.push(toAdd);\n        }\n    }\n    return ans;\n}"],"names":["ActionRowBuilder","ButtonBuilder","ButtonComponent","StringSelectMenuBuilder","StringSelectMenuComponent","editComponents","message","modifier","ans","row","components","toAdd","component","addComponents","from","length","push"],"mappings":"AAAA,SACIA,gBAAgB,EAChBC,aAAa,EACbC,eAAe,EAGfC,uBAAuB,EACvBC,yBAAyB,QACtB,aAAa;AAEpB;;;;;;;;CAQC,GACD,OAAO,eAAeC,eAAeC,OAAgB,EAAEC,QAAyG,EAAE;IAC9J,MAAMC,MAAM,EAAE;IACd,KAAK,MAAMC,OAAOH,QAAQI,UAAU,CAAE;QAClC,MAAMC,QAAQ,IAAIX;QAClB,KAAK,MAAMY,aAAaH,IAAIC,UAAU,CAAE;YACpC,IAAIE,qBAAqBV,iBAAiB;gBACtCS,MAAME,aAAa,CAAC,MAAMN,SAASN,cAAca,IAAI,CAACF;YAC1D,OAAO,IAAIA,qBAAqBR,2BAA2B;gBACvDO,MAAME,aAAa,CAAC,MAAMN,SAASJ,wBAAwBW,IAAI,CAACF;YACpE,CAAC;QACL;QACA,IAAID,MAAMD,UAAU,CAACK,MAAM,GAAG,GAAG;YAC7BP,IAAIQ,IAAI,CAACL;QACb,CAAC;IACL;IACA,OAAOH;AACX,CAAC"}